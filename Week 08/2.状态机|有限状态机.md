有限状态机处理字符串

##### 有限状态机
1. 每一个状态都是一个机器
   1. 在每一个机器里，我们可以做计算、存储、输出
   2. 所有的这些机器接受的输入是一致的
   3. 状态机的每一个机器本身没有状态，如果我们用函数来表示的话，他应该是一个纯函数（无副作用）
2. 每一个机器知道下一个状态
   1. 每个机器都有确定的下一状态（Moore）
      也就是说从状态 a 不管接受什么样的输入，我都一定会进入状态 b
      状态 b，无论接受到什么输入，都一定会进入到下一个状态 c，除此之外，
      也是可以有循环的。
      无论如何，这个状态回到了哪儿，都是有程序员在编写状态机的代码就已经决定好了的
      而不是手他的输入影响可以做分支的。
   2. 每个机器根据输入决定下一个状态（Mealy）
      接受不同的输入，就可以进入到不同的下一个状态当中。
      这种情况，带来了一定的代码复杂性，也带来了非常强的表达能力。

##### JS中的有限状态机（Mealy）
``` javascript
// 每个函数都是一个状态
function state(input) // 函数的参数就是输入
{
  // 在函数中，可以自由地边写代码，处理每个状态的逻辑
  return next //返回值作为下一个状态
}
// 以下是调用
while(input) {
  state = state(input) // 把状态机的返回值作为下一个状态
}
```